<!DOCTYPE html>
<html>
<head>
    <link href="../bower_components/polymer/polymer.html" rel="import">
    <link href="../styles/app-theme.html" rel="import">
    <link href="../bower_components/paper-styles/paper-styles.html" rel="import">

    <link href="../bower_components/iron-flex-layout/iron-flex-layout.html" rel="import">
    <link href="../bower_components/paper-material/paper-material.html" rel="import">

    <link rel="import" href="../elements/wallcology-selector.html">
</head>

<dom-module id="test-app">
  <style>

  paper-material {
      background-color: white;;
      height: 100%;
      margin: 0px;
      padding: 10px;
    }

  .vertical-section {
      background-color: white;
      padding: 24px;
      margin: 0 24px 0px 24px;

      @apply(--shadow-elevation-2dp);
    }

  .vertical-section-container {
      @apply(--layout-vertical);
      @apply(--center-justified);
    }

  </style>
  <template>


    <wallcology-selector max-selections="2" selected-bugs="{{selectedBugs}}"></wallcology-selector>

    selesscted bugs:
    <template is="dom-repeat" items="{{selectedBugs}}">
        <span>{{item}}</span>
    </template>

  </template>

  <script>
    // element registration
    Polymer({
      is: 'test-app',

      // add properties and methods on the element's prototype
      properties: {
        // declare properties for the element's public API
        selectedBugs: {
          type: Array,
          notify: true,
          value: []
        }
      },
      observers: [
        'selectedBugsChanged(selectedBugs.*)'
      ],
      selectedBugsChanged: function (changeRecord) {
        console.log('SelectedBugs changed-TEST-APP : ' + this.selectedBugs);

        if (changeRecord.path == 'selectedBugs.splices') {
          // a user was added or removed
        } else {
          // an individual user or its sub-properties changed
          // check "changeRecord.path" to determine what changed
          if (this.currentHabitat !== undefined && this.selectedBugs[0] !== undefined) {

          }

        }
      },
      ready: function () {
        this.selectedBugs = [];
      }
    });
  </script>
</dom-module>
